# [Gold V] 욱제는 사과팬이야!! - 15924 

[문제 링크](https://www.acmicpc.net/problem/15924) 

### 성능 요약

메모리: 120116 KB, 시간: 576 ms

### 분류

다이나믹 프로그래밍(dp)

### 문제 설명

<p>욱제는 구사과의 열렬한 팬이다. 오늘 욱제는 구사과에게 선물(<img alt="" class="no-responsive" src="https://onlinejudgeimages.s3-ap-northeast-1.amazonaws.com/problem/15559/1.png" style="height:20px; width:20px">)을 전달해주려고 한다. 지난 며칠간의 관찰 끝에 욱제는 구사과의 이동 패턴을 모두 파악했다.</p>

<p>구사과가 있는 곳은 N×M 크기의 직사각형 지도로 나타낼 수 있으며, 1×1크기의 정사각형으로 나누어져 있다. 구사과의 위치는 (i, j)로 나타낼 수 있으며, (i, j)는 위에서부터 i번째 칸, 왼쪽에서부터 j번째 칸을 의미한다.</p>

<p>지도의 각 칸에는 E, S, B중의 한 문자가 쓰여져 있는데, 구사과는 이 문자를 이용해서 이동한다. 구사과의 위치가 (i, j)인 경우에 E가 쓰여져 있는 칸에 서 있었다면 (i, j+1)로, S의 경우에는 (i+1, j)로, B의 경우에는 (i, j+1) 또는 (i+1, j)로 순간이동한다. 구사과는 지치지 않기 때문에, 계속해서 이동한다.</p>

<p>욱제는 구사과의 위치를 모르지만, 구사과가 이동을 시작하는 위치와 관계없이 최종 목적지는 항상 (N, M)이라는 사실을 알고 있다. 욱제는 (N, M)에 선물을 배치해서 구사과가 항상 선물을 가져갈 수 있게 할 작정이다. 구사과가 선물을 가져가는 경로의 수를 구하는 프로그램을 작성하시오. 선물이 놓여진 칸에 구사과가 이동하면, 구사과는 항상 선물을 가져간다.</p>

### 입력 

 <p>첫째 줄에 지도의 세로 크기 N과 가로 크기 M이 주어진다. (1 ≤ N, M ≤ 3,000)</p>

<p>둘째 줄부터 N개의 줄에는 구사과가 있는 곳의 지도가 주어진다. (N, M)에는 도착지임을 뜻하는 X가 주어진다.</p>

<p>지도에 쓰여 있는 대로 이동했을 때, 지도를 벗어나는 경우는 없다.</p>

### 출력 

 <p>첫째 줄에 구사과가 선물을 가져가는 경로의 수를 출력한다. 경로가 너무 많아질 수 있으므로 1,000,000,009 (10<sup>9</sup> + 9)로 나눈 나머지를 출력한다.</p>

